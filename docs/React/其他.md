# 其他

## React.lazy

- 使用背景：React 打包时，如果不进行特殊处理会将多个文件打包合并为一个 bundle 文件，然后引入bundle文件，则整个应用可以一次性加载。使用 React.lazy 可以使 react 组件单独打成一个文件，延迟加载该组件。这样可以实现代码分割，避免单文件体积过大，导致加载时间过长。

- 使用方法：
  - React.lazy 接受一个函数，这个函数需要动态调用 import()。它必须返回一个Promise，该 Promise 需要 resolve 一个 defalut export 的 React 组件（支持默认导出的组件）。
  - 可以使用 Suspense 包裹要延迟加载的组件，多个延迟加载的组件可被包在一个 suspense 组件中。它提供了一个 fallback 属性，用来在组件的延迟加载过程中显式某些 react 元素（可在network中模拟慢速网络验证）。

```js
const OtherComponent = React.lazy(() => import('./OtherComponent'));

function MyComponent() {
  return (
    <div>
      <Suspense fallback={<div>Loading...</div>}>
        <OtherComponent />
      </Suspense>
    </div>
  );
}
```

- React.lazy 和 Suspense 技术还不支持服务端渲染。
