# 基本

## 选择器

- 选择器优先级：
  - 内联选择器：1 0 0 0。
  - ID 选择器：0 1 0 0。
  - 类选择器、属性选择器、伪类：0 0 1 0。
  - 标签选择器、伪元素：0 0 0 1。
  - （高级的选择器优先，且 N 个 0010 级别的选择器组合不会优于 0100 的选择器。不过这貌似和浏览器用多少字节来表示这个权重有关）

- 子选择器 `>` 作用于元素的第一代后代（不包含孙节点），后代选择器 ` ` 作用于元素的所有后代。

- 兄弟选择器 `+`：选择紧接在某个元素后的元素，且二者有相同父元素。

- 兄弟选择器 `~`：查找某一个指定元素后面的所有兄弟结点。

- `E:first-child`：如果 E 是它父元素的第一个子元素，并且其元素类型是 E，则选中。

## base64 图片

- 优点：
  1. 减少了一个 http 请求。
  2. 没有跨域问题，无需考虑缓存、文件头或者 cookies 等问题。
  
- 缺点：
  1. 大小比原文件大了 1/3（因为 base64 编码使用八比特表示六比特的内容），但通过 gzip 压缩后就几乎一样大小了。
  2. 增大了 CSS 的体积，减缓 CSS 加载和解析的速度（如果图片是 url 引入的，即使页面渲染完后也还能够继续加载，所以不会阻塞）。

- url 转化为 base64 的方式：
  1. 先将图片绘制到 canvas 上，再使用 canvas 的 toDataURL 方法。但需要解决图片的跨域问题 `image.crossOrigin = ''`。
  2. 使用 FileReader。

```js
var reader = new FileReader(), htmlImage;
reader.onload = function(e) {
  htmlImage = '<img src="'+ e.target.result +'" />';    // 这里e.target.result就是base64编码
}
reader.readAsDataURL(file);
```


## styled-components

- styled-components 顾名思义，可以将样式写成一个组件来用。区别于 CSS 和 Less 等，styled-components 是在 js 文件中写样式的，它大概长这个样。

```js
import styled from 'styled-components';
// styled.xxx 表示创建 xxx 要用什么 HTML 标签,
export const Logo = styled.div`
  width: 50px;
  height: 50px;
`;

// 使用
<Logo />
```

- styled-components 的特性：
  - 跟 Less 一样支持嵌套语法。
  - 拥有更强烈的语义化。通过 styled-components 写的样式组件名是由开发者自己定义的，而这样式组件名在使用中其实就相当于是标签名了，通过它我们就可以一目了然其作用是什么，而不用通篇都是 div。
  - 可以通过 props 拿到组件内部的数据！

```js
export const Logo = styled.div`
  width: 50px;
  height: 50px;
  background: url(${(props) => props.imgUrl});
`;

<Logo imgUrl={'xxx'}/>
```

## Less

- 变量是延迟加载的，在使用前不一定要先申明。

```less
.brass {
  @var: 2;
  three: @var;  //这是的值是3，同级别中最后一个，顺序无所谓
  @var: 3;
}
```

- 合并属性。使用 `+` 或 `+_` 合并同一个 CSS 样式的属性，前者用逗号隔开，后者用空格隔开。

```less
.mixin() {
  transform+_: scale(2);
}
.myclass {
  .mixin();
  transform+_: rotate(15deg);
}

// 编译成
.myclass {
  transform: scale(2) rotate(15deg);
}
```

- 避免编译：有些情况下，我们不需要 less 中的某些内容被自动编译，而是保留下来原样放到 CSS 中，此时可以使用 `~`。

```less
.test {
  width: ~'(300px-100px)';
}
// 编译成
.test {
  width: (300px-100px);
}
```

- 循环

```less
.loop(@counter) when (@counter > 0) {
  .loop((@counter - 1));    
  width: (10px * @counter); 
}
div {
  .loop(3);
}

// 编译成
div {
  width: 10px;
  width: 20px;
  width: 30px;
}
```
